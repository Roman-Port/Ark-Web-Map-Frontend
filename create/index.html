<html>
    <head>
        <title>Ark Web Map - Create Server</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
        <link rel="stylesheet" href="/assets/create/create.css">

        <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
        <link rel="manifest" href="/icons/site.webmanifest">
        <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="/icons/favicon.ico">
        <meta name="msapplication-TileColor" content="#00a300">
        <meta name="msapplication-config" content="/icons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <!-- Top and bottom -->
        <div class="sideburns" style="top:0;">
            <span class="sideburn_title">Create Server</span>
        </div>

        <div class="sideburns" style="bottom:0;">
            <div class="inf_loader" id="loader"></div>
            <div class="sideburn_percentage">
                <div class="percentage_item_circle"></div>
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
                
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
                
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
                
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
                
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
                
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
                
                <div class="percentage_item_rectangle"></div>
                <div class="percentage_item_circle"></div>
            </div>
        </div>

        <!-- Content pages -->
        <div class="main_carousel">
            <div class="carousel_cell">
                <!-- Nothing. This is a loader silde. -->
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">To create a server, you'll need to download the Ark Web Map companion program. This program reads your Ark: Survival Evolved save file and processes for the service.<br><br>To continue, ensure the machine running your Ark server is<br><ul>
                                        <li>Running Windows 7+ or Linux with .NET Core support</li>
                                        <li>Able to run external programs</li>
                                        <li>Able to be port forwarded</li>
                                    </ul></div>

                                    <div class="nb_button_blue nb_button_forward" onclick="NextStep();">Continue</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--<div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">Text</div>

                                    <div class="nb_button_blue nb_button_back">Back</div>
                                    <div class="nb_button_blue nb_button_forward">Continue</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>-->
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">Pick a platform and download it. Unzip the ZIP file and run the executable inside of it. Then, click continue.</div>

                                    <div class="nb_download_btn_contianer">
                                        <div class="nb_download_btn">
                                            <div class="nb_download_btn_main">Windows</div>
                                            <a class="nb_download_btn_virustotal">SHA-256</a>
                                        </div>
                                    
                                    <div class="nb_download_btn">
                                        <div class="nb_download_btn_main">Linux</div>
                                            <a class="nb_download_btn_virustotal">SHA-256</a>
                                        </div>
                                    </div>

                                    <div class="nb_button_blue nb_button_forward" onclick="NextStep();">Continue</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">After running the program, you will be prompted for an auth code. Type the code below into the console, then press enter.</div>
                                    <div class="nb_setup_big_auth_code" id="auth_code"></div>
                                    <div class="nb_button_blue nb_button_back" onclick="BackStep();">Back</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">Now, you will have to open a TCP port in your router to allow the Ark Web Map master server to connect, much like Ark. This IP will not be shared and is only used by the ArkWebMap Master Server.</div>
                                    <div class="nb_setup_big_auth_code nb_title_center nb_big_padding_bottom" style="margin:25px auto;"><input class="nb_transparent_input" id="port_box_input"><div class="nb_button_blue nb_big_padding_bottom" onclick="OnVerifyPortBtnClicked();">Verify</div></div>
                                    <div class="np_sub_title nb_big_padding_bottom">The default port chosen is close to that of an Ark: Survival Evolved server, but you may change it if you need to do so.</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="nct_failed">
                                    <div class="np_sub_title nb_big_padding_bottom">Connection test failed.<br><br>
                                        <ul>
                                            <li>Check to see if a firewall is blocking outside connections to this port.</li>
                                            <li>Check to make sure the port you chose is port forwarded over TCP.</li>
                                            <li>Try a different port. A different program may already use this port.</li>

                                        </ul>
                                    </div>
                                    <div class="nb_button_blue nb_button_back" onclick="BackStep();">Back</div>
                                </div>
                                <div class="new_custom_box" id="nct_passed">
                                    <div style="width:100%; height:100%; display:table; text-align: center;">
                                        <span style="display: table-cell;vertical-align: middle;">Connection test passed!</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">Now, you'll need to choose where your save files are and what map to use. The file will automatically be checked as you type, and the continue button will illuminate when a file is found. </div>
                                    <div class="np_sub_title ">
                                        Map Name: 
                                        <select class="inputbox" onchange="OnFilepickerType();" style="position: relative;left: 51px;" id="filesearch_map">
                                            <option value="Extinction">Extinction</option>
                                            <option value="TheCenter">The Center</option>
                                        </select>
                                    </div>
                                    <div class="np_sub_title" style="
                                        margin-top: 5px;
                                        margin-bottom: 10px;
                                        ">Save Directory:<input id="filesearch_path" class="inputbox" style="position: relative;left: 32px;width: 400px;" type="text" oninput="OnFilepickerType();" value="C:\Program Files (x86)\Steam\steamapps\common\ARK\ShooterGame\Saved\SavedArks" spellcheck="false"></div>
                                    <div class="np_sub_title nb_big_padding_bottom" style="
                                        color: #d5d5d5;
                                        font-size: 15px;
                                        ">This likely is the SavedArks folder, unless you specified a new directory. </div>
                                    <div class="nb_button_blue nb_button_forward" id="filesearch_btn" onclick="OnFilepickerContinueBtn();">File Not Found</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <input id="image_picker" type="file" name="f" style="display: none;" onchange="OnImagePickerChooseImage();" />
                                    <div class="np_sub_title nb_big_padding_bottom" style="
                                        position: absolute;
                                        top: 120px;
                                        left: 260px;
                                        ">Personalize your server with an image and name.</div>
                                    <div onclick="OnImagePickerClick();" id="image_picker_image" style="
                                        width: 150px;
                                        height: 150px;
                                        border-radius: 50%;
                                        background-color: #21282d;
                                        position: absolute;
                                        top: 80px;
                                        left: 80px;
                                        border: 1px solid #181d20;
                                        cursor: pointer;
                                        background-position: center;
                                        background-size: cover;
                                        ">
                                        <div style="display:table;width:100%;height:100%;text-align: center;" ><span style="
                                            display: table-cell;
                                            vertical-align: middle;
                                            color: #c6c6c6;
                                            
                                            ">Click to Choose Image</span></div>
                                    </div>
                                    <input style="
                                        height: 30px;
                                        background-color: #21282d;
                                        position: absolute;
                                        top: 150px;
                                        left: 260px;
                                        color: white;
                                        border-radius: 4px;
                                        border: 1px solid #181d20;
                                        padding: 5px;
                                        " type="text" value="Ark" placeholder="Server Name" oninput="OnEditServerName(this);"> 
                                    <div class="nb_button_blue nb_button_forward" id="icon_picker_btn" onclick="OnEditServerDone();">Continue</div>
                                    <div class="np_sub_title nb_big_padding_bottom" id="icon_picker_error" style="
                                        position: absolute;
                                        top: 190px;
                                        left: 260px;
                                        color: #ff9b9b;
                                        display:none;
                                        ">Keep server name between 2-24 characters</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--<div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box" id="new_custom_box">
                                    <div class="np_sub_title nb_big_padding_bottom">Finally, you can disable ArkWebMap features if you would like to limit your players.</div>

                                    <div class="nb_button_blue nb_button_back" onclick="BackStep();">Back</div>
                                    <div class="nb_button_blue nb_button_forward" onclick="NextStep();">Continue</div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>-->
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box">
                                    <div style="width:100%; height:100%; display:table; text-align: center;">
                                        <span style="display: table-cell;vertical-align: middle;">Sending server config...</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle;">
                                <div class="new_custom_box">
                                    <div style="width:100%; height:100%; display:table; text-align: center;">
                                        <span style="display: table-cell;vertical-align: middle;">Waiting for server restart...</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="carousel_cell">
                <table class="table">
                    <tbody>
                        <tr>
                            <td style="text-align: center; vertical-align: middle; color: white;
                            font-family: 'Roboto', sans-serif;
                            font-weight: 700;">
                                Thank You
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
        <script src="/assets/user_portable.js"></script>
        <script src="/assets/create/create.js"></script>
    </body>
</html>